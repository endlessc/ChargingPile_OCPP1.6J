bash: pipreqs: command not found
-*-*-*-*-*-*-*-*开始循环执行1500次【反复启停订单并软重启桩的用例】-*-*-*-*-*-*-*-*
============================= test session starts =============================
platform win32 -- Python 3.7.1, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 -- c:\users\autel\appdata\local\programs\python\python37\python.exe
cachedir: .pytest_cache
rootdir: D:\workspace\ocpp_test, configfile: pytest.ini
plugins: allure-pytest-2.9.45, asyncio-0.17.0, timeout-2.0.2
timeout: 1200.0s
timeout method: thread
timeout func_only: False
collected 1 item

test_Recurrent_cpVoltN.py::test_Recurrent_cpVoltN [INFO conftest.py:16] **************************************************set up******************************************
********
[INFO server.py:707] server listening on 0.0.0.0:9000
[INFO conftest.py:18] Server Started listening to new connections...
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201221345460000000A","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T03:58:25.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"0.000000","unit":"V","measurand":"Voltage
","phase":"L1"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000",
"unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measurand"
:"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201221345460000000A",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230358260000000E","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-22T13:46:13.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230358260000000E",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201221345560000000B","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T03:58:26.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"0.000000","unit":"V","measurand":"Voltage
","phase":"L1"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000",
"unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measurand"
:"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201221345560000000B",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201221346060000000C","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T03:58:27.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"0.000000","unit":"V","measurand":"Voltage
","phase":"L1"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.000000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000",
"unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measurand"
:"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201221346060000000C",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201221346060000000D","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201221346060000000D",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230358380000000F","Heartbeat",{}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230358380000000F",{"currentTime":"2022-01-23T03:58:38.123Z"}]
[INFO conftest.py:21] the charge point has connected to this server
[INFO conftest.py:22] **************************************************testcase**************************************************
[INFO test_Recurrent_cpVoltN.py:31] ========这是第1次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"eadbc00a-fc7f-4836-859b-77ed0c60a6ed","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"eadbc00a-fc7f-4836-859b-77ed0c60a6ed",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303583900000010","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303583900000010",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303584000000011","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303584000000011",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303584000000012","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T03:58:39.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303584000000012",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"f7d278d3-181d-4464-8a79-c1777c5f2006","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303584200000013","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T03:58:42.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.830000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303584200000013",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"f7d278d3-181d-4464-8a79-c1777c5f2006",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303584200000014","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303584200000014",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303584900000015","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303584900000015",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303585000000016","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T03:58:49.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303585000000016",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"27d543a4-1212-4fab-93d1-fd4b08266f76","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"27d543a4-1212-4fab-93d1-fd4b08266f76",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303591500000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303591500000001",{"currentTime":"2022-01-23T03:59:15.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303591500000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303591500000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303591500000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303591500000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第2次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"cce3dd74-ba56-4c37-90bf-7b9762363790","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"cce3dd74-ba56-4c37-90bf-7b9762363790",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303591600000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303591600000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303592000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303592000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303592000000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T03:59:19.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303592000000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303592200000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T03:59:22.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.690000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.930000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303592200000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"e7497447-83b7-4f61-b1c8-10f993af8eaf","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"e7497447-83b7-4f61-b1c8-10f993af8eaf",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303592300000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303592300000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303593100000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303593100000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230359310000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T03:59:30.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230359310000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"6c75cde7-73f2-4ee3-a333-cca6d4e250a3","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"6c75cde7-73f2-4ee3-a333-cca6d4e250a3",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303595500000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303595500000001",{"currentTime":"2022-01-23T03:59:57.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303595700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303595700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303595700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303595700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第3次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"881eecce-67b9-44a5-bd85-02c555bb2353","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"881eecce-67b9-44a5-bd85-02c555bb2353",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012303595900000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012303595900000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304000200000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304000200000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304000200000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:00:01.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304000200000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304000400000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:00:04.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.590000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304000400000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d05337f8-0273-4941-9138-a1f10f383d5b","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d05337f8-0273-4941-9138-a1f10f383d5b",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304000500000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304000500000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304001200000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304001200000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230400130000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:00:12.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230400130000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"4978c36a-7745-492c-8fb8-27c77bb2facf","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"4978c36a-7745-492c-8fb8-27c77bb2facf",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304003700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304003700000001",{"currentTime":"2022-01-23T04:00:38.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304003800000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304003800000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304003800000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304003800000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第4次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"3f96deb1-925d-4b54-bb29-a5fdda1ce553","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"3f96deb1-925d-4b54-bb29-a5fdda1ce553",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304004000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304004000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304004300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304004300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304004300000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:00:42.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304004300000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304004500000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:00:45.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"212.010000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304004500000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"64b0f524-7fad-42d6-b5c1-0adb4750de75","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"64b0f524-7fad-42d6-b5c1-0adb4750de75",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304004700000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304004700000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304005300000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304005300000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230400540000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:00:53.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230400540000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"b9b78d5e-d56f-4918-a56a-d4d43c36f3af","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"b9b78d5e-d56f-4918-a56a-d4d43c36f3af",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304011900000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304011900000001",{"currentTime":"2022-01-23T04:01:19.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304011900000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304011900000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304011900000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304011900000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第5次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"14ed7494-219c-4898-8653-4cb0d38f5abf","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"14ed7494-219c-4898-8653-4cb0d38f5abf",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304012100000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304012100000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304012400000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304012400000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304012400000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:01:24.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304012400000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304012600000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:01:26.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.920000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.930000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304012600000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"3d1ca920-0499-442a-860a-1a1059b4b2dd","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"3d1ca920-0499-442a-860a-1a1059b4b2dd",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304012800000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304012800000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304013500000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304013500000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230401350000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:01:34.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230401350000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"99b62672-35f3-4f7e-9ee8-a07c359218d3","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"99b62672-35f3-4f7e-9ee8-a07c359218d3",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020000000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020000000001",{"currentTime":"2022-01-23T04:02:01.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020100000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020100000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020100000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020100000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第6次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d6895324-576f-40f7-9462-c150e18d02a0","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d6895324-576f-40f7-9462-c150e18d02a0",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020200000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020200000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020600000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020600000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020600000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:02:05.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020600000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020800000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:02:08.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.670000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020800000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"3ed693ae-c678-445a-8feb-5adfef2aa9be","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"3ed693ae-c678-445a-8feb-5adfef2aa9be",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304020900000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304020900000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304021600000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304021600000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230402170000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:02:16.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230402170000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"2eacf9c7-fa5c-4f1f-beb4-4b915b0f956b","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"2eacf9c7-fa5c-4f1f-beb4-4b915b0f956b",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024200000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024200000001",{"currentTime":"2022-01-23T04:02:43.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024300000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024300000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024300000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024300000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第7次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"66b4d539-4ac5-47ba-99ad-ed38483ed27f","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"66b4d539-4ac5-47ba-99ad-ed38483ed27f",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024500000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024500000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024800000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024800000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304024800000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:02:47.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304024800000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304025000000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:02:50.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.620000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304025000000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"aab65e1b-3728-4d3e-8feb-1fbaea562f00","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"aab65e1b-3728-4d3e-8feb-1fbaea562f00",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304025100000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304025100000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304025800000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304025800000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230402590000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:02:58.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230402590000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"f66ca608-26e2-4f45-b5b9-349e8ff44841","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"f66ca608-26e2-4f45-b5b9-349e8ff44841",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304032400000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304032400000001",{"currentTime":"2022-01-23T04:03:25.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304032500000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304032500000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304032500000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304032500000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第8次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"373f4e0a-53f9-4453-9e32-7971cd2047dc","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"373f4e0a-53f9-4453-9e32-7971cd2047dc",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304032600000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304032600000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304033000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304033000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304033000000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:03:29.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304033000000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304033200000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:03:32.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.500000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.310000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.930000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304033200000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"71e4ca4c-5d24-41ac-b65c-d2cb843c4099","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"71e4ca4c-5d24-41ac-b65c-d2cb843c4099",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304033300000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304033300000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230403410000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:03:40.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230403410000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304034000000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304034000000009",{}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"4f5a36c0-0343-4c3f-8cac-38504101b42a","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"4f5a36c0-0343-4c3f-8cac-38504101b42a",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304040500000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304040500000001",{"currentTime":"2022-01-23T04:04:06.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304040600000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304040600000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304040600000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304040600000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第9次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5e9bfd7f-5396-42be-ace4-6afcf0c7f82d","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5e9bfd7f-5396-42be-ace4-6afcf0c7f82d",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304040800000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304040800000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304041000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304041000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304041100000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:04:10.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304041100000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"371f8b6e-6b32-46dc-839d-d68a91fb4682","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"371f8b6e-6b32-46dc-839d-d68a91fb4682",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304041200000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304041200000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304041900000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304041900000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304042000000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:04:19.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304042000000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"1e001302-37ae-408f-9dc4-898e8aae9cc9","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"1e001302-37ae-408f-9dc4-898e8aae9cc9",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304044400000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304044400000001",{"currentTime":"2022-01-23T04:04:45.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304044500000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304044500000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304044500000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304044500000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第10次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"55201c67-0109-4d0a-b74d-caea7447f667","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"55201c67-0109-4d0a-b74d-caea7447f667",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304044700000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304044700000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304045000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304045000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304045000000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:04:49.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304045000000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304045200000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:04:52.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"212.010000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.010000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304045200000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"0d5bead1-4a10-4058-b008-73fcc78aa721","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"0d5bead1-4a10-4058-b008-73fcc78aa721",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304045400000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304045400000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304050100000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304050100000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230405010000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:05:00.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230405010000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"03093364-73d2-4ae6-9beb-1d50564bcda4","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"03093364-73d2-4ae6-9beb-1d50564bcda4",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304051900000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304051900000001",{"currentTime":"2022-01-23T04:05:20.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052000000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052000000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052000000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052000000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第11次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"b140b590-c622-4ab7-b4aa-6366f61c1c41","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"b140b590-c622-4ab7-b4aa-6366f61c1c41",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052300000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052300000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052600000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052600000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052600000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:05:25.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052600000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052800000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:05:28.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.590000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052800000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d2057c9c-d97a-4da1-9230-ff0deb2e2067","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d2057c9c-d97a-4da1-9230-ff0deb2e2067",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304052900000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304052900000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304053800000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304053800000009",{}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"952eca85-9463-461f-8708-d6ef3fec9e9d","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230405380000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:05:37.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230405380000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"952eca85-9463-461f-8708-d6ef3fec9e9d",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060200000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060200000001",{"currentTime":"2022-01-23T04:06:03.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060300000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060300000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060300000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060300000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第12次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"85d37d16-a52f-4c8c-ad48-e9b6805c6053","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"85d37d16-a52f-4c8c-ad48-e9b6805c6053",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060500000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060500000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060800000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060800000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304060800000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:06:07.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304060800000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304061000000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:06:10.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.770000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304061000000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"c8f42d3c-2a53-4f98-bc50-f6d04193083e","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"c8f42d3c-2a53-4f98-bc50-f6d04193083e",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304061100000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304061100000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304061800000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304061800000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230406190000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:06:18.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230406190000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"8834a7f0-0a25-4c8e-82a3-5bf9048a54d0","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"8834a7f0-0a25-4c8e-82a3-5bf9048a54d0",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304063500000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304063500000001",{"currentTime":"2022-01-23T04:06:36.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304063600000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304063600000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304063600000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304063600000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第13次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"e0e50283-ed31-4c93-9072-5a0df5efa095","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"e0e50283-ed31-4c93-9072-5a0df5efa095",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304064000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304064000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304064200000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304064200000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304064200000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:06:41.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304064200000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"1246d8b5-1756-4915-bc45-885f9c6fef73","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"1246d8b5-1756-4915-bc45-885f9c6fef73",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304064400000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304064400000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304065100000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304065100000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304065100000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:06:50.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304065100000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"9caf0a96-0c68-488a-8e28-cbb9fb590100","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"9caf0a96-0c68-488a-8e28-cbb9fb590100",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304071600000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304071600000001",{"currentTime":"2022-01-23T04:07:17.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304071700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304071700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304071700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304071700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第14次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"dfb43357-e9ee-4cf9-88f2-5d1da5bc9969","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"dfb43357-e9ee-4cf9-88f2-5d1da5bc9969",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304071900000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304071900000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304072200000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304072200000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304072200000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:07:21.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304072200000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304072400000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:07:24.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.610000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304072400000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"b01c06f7-c732-4f0b-b533-3e52eed040fc","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"b01c06f7-c732-4f0b-b533-3e52eed040fc",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304072500000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304072500000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304073200000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304073200000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230407330000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:07:32.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230407330000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"dd8bf36e-b16b-4d79-8856-1670e42231ba","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"dd8bf36e-b16b-4d79-8856-1670e42231ba",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304075700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304075700000001",{"currentTime":"2022-01-23T04:07:58.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304075800000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304075800000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304075800000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304075800000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第15次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"93fc9d6d-5ba9-4aef-874a-b811c52aa5b6","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"93fc9d6d-5ba9-4aef-874a-b811c52aa5b6",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304080000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304080000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304080300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304080300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304080300000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:08:02.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304080300000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304080500000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:08:05.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.760000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304080500000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d6a41f6e-36b2-4d71-9dad-318d01bc730e","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d6a41f6e-36b2-4d71-9dad-318d01bc730e",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304080600000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304080600000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304081400000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304081400000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230408140000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:08:13.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230408140000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"b83a4e3b-f691-4fcb-9b5b-7c4e704a5ab2","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"b83a4e3b-f691-4fcb-9b5b-7c4e704a5ab2",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304083900000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304083900000001",{"currentTime":"2022-01-23T04:08:40.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084000000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084000000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084000000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084000000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第16次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"6f651014-2162-42ad-914b-48717adf21ff","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"6f651014-2162-42ad-914b-48717adf21ff",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084200000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084200000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084400000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084400000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084500000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:08:44.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084500000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084600000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:08:47.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"212.020000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084600000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d2d3bae7-ef2d-4def-a03a-e1308daa1d55","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d2d3bae7-ef2d-4def-a03a-e1308daa1d55",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304084800000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304084800000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304085500000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304085500000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230408560000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:08:55.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230408560000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"0d7aace1-4267-4b9f-8b01-1c7863c183e5","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"0d7aace1-4267-4b9f-8b01-1c7863c183e5",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304091300000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304091300000001",{"currentTime":"2022-01-23T04:09:14.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304091400000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304091400000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304091400000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304091400000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第17次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"3a126a4c-c9ef-4672-9870-a12249cace52","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"3a126a4c-c9ef-4672-9870-a12249cace52",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304091800000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304091800000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304092000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304092000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304092100000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:09:20.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304092100000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304092200000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:09:22.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.940000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304092200000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"663f49ee-af3c-4da2-b2c4-50325bc3b647","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"663f49ee-af3c-4da2-b2c4-50325bc3b647",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304092400000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304092400000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304093200000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304093200000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230409330000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:09:32.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230409330000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"1a9898ff-0a18-4fa2-87a3-a2365e1850e0","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"1a9898ff-0a18-4fa2-87a3-a2365e1850e0",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304095700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304095700000001",{"currentTime":"2022-01-23T04:09:57.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304095700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304095700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304095700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304095700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第18次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5f2ecf5c-59d1-47d9-8971-2352663b1fd0","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5f2ecf5c-59d1-47d9-8971-2352663b1fd0",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304095800000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304095800000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304100100000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304100100000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304100200000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:10:01.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304100200000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304100300000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:10:03.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.830000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304100300000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"e237df14-7eff-49fa-884d-f4c16453f9bd","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"e237df14-7eff-49fa-884d-f4c16453f9bd",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304100500000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304100500000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230410120000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:10:12.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230410120000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304101200000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304101200000009",{}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"03b343e8-ee36-487a-b832-39ed795fc38a","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"03b343e8-ee36-487a-b832-39ed795fc38a",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304103700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304103700000001",{"currentTime":"2022-01-23T04:10:38.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304103800000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304103800000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304103800000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304103800000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第19次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"35ec9a08-87da-4153-9a99-e861df035b7a","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"35ec9a08-87da-4153-9a99-e861df035b7a",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304104000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304104000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304104300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304104300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304104300000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:10:42.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304104300000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"0d5b0cbb-195d-42aa-a0e6-8bfeb968079d","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"0d5b0cbb-195d-42aa-a0e6-8bfeb968079d",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304104500000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304104500000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304105100000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304105100000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304105200000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:10:51.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304105200000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"4370de22-be8f-4ff2-8c1c-8c9c5a9a3871","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"4370de22-be8f-4ff2-8c1c-8c9c5a9a3871",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304111700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304111700000001",{"currentTime":"2022-01-23T04:11:18.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304111800000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304111800000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304111800000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304111800000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第20次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5a68b9f5-1aac-42d0-b8c6-ca64d4388ef5","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5a68b9f5-1aac-42d0-b8c6-ca64d4388ef5",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304112000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304112000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304112300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304112300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304112400000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:11:23.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304112400000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304112500000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:11:25.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"212.000000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304112500000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"118dcd69-049d-4028-ada8-c97b7fcc3ce7","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"118dcd69-049d-4028-ada8-c97b7fcc3ce7",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304112600000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304112600000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304113400000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304113400000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230411340000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:11:33.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230411340000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"f7970ce6-92ea-4eab-b5d3-80be8d68b01b","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"f7970ce6-92ea-4eab-b5d3-80be8d68b01b",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304115800000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304115800000001",{"currentTime":"2022-01-23T04:11:59.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304115900000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304115900000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304115900000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304115900000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第21次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"7af6978f-e3fb-47fe-a492-b8e124d31c47","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"7af6978f-e3fb-47fe-a492-b8e124d31c47",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304120100000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304120100000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304120300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304120300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304120400000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:12:03.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304120400000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304120600000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:12:06.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.970000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304120600000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5dc55750-6769-46fc-b455-f5dfe5303ff7","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5dc55750-6769-46fc-b455-f5dfe5303ff7",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304120700000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304120700000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304121400000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304121400000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230412150000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:12:14.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230412150000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"ee01cac9-4d96-4040-8d52-dbbc39e16415","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"ee01cac9-4d96-4040-8d52-dbbc39e16415",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124000000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124000000001",{"currentTime":"2022-01-23T04:12:40.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124000000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124000000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124000000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124000000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第22次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"22d40609-e8c3-418c-a1a5-00cbf9e0b9e1","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"22d40609-e8c3-418c-a1a5-00cbf9e0b9e1",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124200000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124200000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124500000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124500000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124500000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:12:44.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124500000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124700000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:12:47.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.680000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124700000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"d1026999-4ed2-4a14-9143-f82450072fd1","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"d1026999-4ed2-4a14-9143-f82450072fd1",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304124800000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304124800000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304125600000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304125600000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230412560000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:12:55.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230412560000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"c8a53b0f-578c-404b-81b0-d284ff3d1d77","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"c8a53b0f-578c-404b-81b0-d284ff3d1d77",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132100000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132100000001",{"currentTime":"2022-01-23T04:13:22.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132200000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132200000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132200000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132200000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第23次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"9f106ec9-e16c-4c25-b308-6933a3d45282","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"9f106ec9-e16c-4c25-b308-6933a3d45282",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132400000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132400000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132700000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:13:26.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132700000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132700000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132700000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304132800000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:13:28.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.570000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.320000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304132800000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5499b1f1-ddce-4044-b600-54cdd18d6406","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5499b1f1-ddce-4044-b600-54cdd18d6406",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304133000000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304133000000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304133800000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304133800000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230413380000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:13:37.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230413380000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"694de0ad-e393-4fe5-b77c-317b850de5ad","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"694de0ad-e393-4fe5-b77c-317b850de5ad",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304141300000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304141300000001",{"currentTime":"2022-01-23T04:14:14.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304141400000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304141400000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304141400000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304141400000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第24次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"8ae05cf2-4cc4-49e1-afb6-7d0c53a2ec41","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"8ae05cf2-4cc4-49e1-afb6-7d0c53a2ec41",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304141700000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304141700000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304142000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304142000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304142000000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:14:19.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304142000000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"f93e327a-e899-4800-b72d-51f88b3e0890","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"f93e327a-e899-4800-b72d-51f88b3e0890",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304142100000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304142100000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304142800000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304142800000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304142900000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:14:28.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304142900000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"785702a3-e2ab-4377-82b2-2e0d2362378d","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"785702a3-e2ab-4377-82b2-2e0d2362378d",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304150400000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304150400000001",{"currentTime":"2022-01-23T04:15:05.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304150500000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304150500000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304150500000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304150500000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第25次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"9ab52420-be4f-4b1d-9813-74cba13275d3","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"9ab52420-be4f-4b1d-9813-74cba13275d3",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304150800000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304150800000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304151100000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304151100000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304151100000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:15:10.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304151100000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304151300000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:15:13.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.810000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.330000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304151300000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"10ac6055-24eb-4735-bd11-e256a28f076f","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"10ac6055-24eb-4735-bd11-e256a28f076f",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304151400000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304151400000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304152200000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304152200000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230415220000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:15:21.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230415220000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"70da33c7-01a7-4498-b718-0510c9b8bbf3","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"70da33c7-01a7-4498-b718-0510c9b8bbf3",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304154600000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304154600000001",{"currentTime":"2022-01-23T04:15:47.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304154700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304154700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304154700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304154700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第26次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"5b3ad82b-b8fa-46ed-ac54-9de1bf96dfb0","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"5b3ad82b-b8fa-46ed-ac54-9de1bf96dfb0",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304155000000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304155000000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304155200000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304155200000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304155200000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:15:51.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304155200000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"e1b4da2b-6880-42ec-a990-f88d47084018","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"e1b4da2b-6880-42ec-a990-f88d47084018",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304155400000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304155400000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304160000000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304160000000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304160100000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:16:00.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304160100000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"3c776247-c400-4469-a9d3-af008a8f98f8","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"3c776247-c400-4469-a9d3-af008a8f98f8",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304162700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304162700000001",{"currentTime":"2022-01-23T04:16:27.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304162700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304162700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304162700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304162700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第27次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"c40edbc5-260a-432a-8b81-9d06d2c2e82e","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"c40edbc5-260a-432a-8b81-9d06d2c2e82e",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304162800000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304162800000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304163000000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304163000000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304163100000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:16:30.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304163100000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"b75df1c8-4e1f-48af-9d78-d2768a120cb4","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"b75df1c8-4e1f-48af-9d78-d2768a120cb4",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304163200000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304163200000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304163900000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304163900000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304164000000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:16:39.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304164000000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"ec3d3be9-e0d7-49a5-8b3f-123b6806ac40","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"ec3d3be9-e0d7-49a5-8b3f-123b6806ac40",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304165600000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304165600000001",{"currentTime":"2022-01-23T04:16:57.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304165700000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304165700000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304165700000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304165700000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第28次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"9f250488-101c-4cc7-b399-4c7b97eeb5c8","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"9f250488-101c-4cc7-b399-4c7b97eeb5c8",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304170100000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304170100000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304170300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304170300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304170300000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:17:02.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304170300000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"bab30f6e-d06f-45b5-9887-a4ae07f716ac","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"bab30f6e-d06f-45b5-9887-a4ae07f716ac",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304170500000007","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304170500000007",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304171100000008","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304171100000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304171200000009","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:17:11.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304171200000009",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"c0224f04-d47d-4314-bd6e-56b343a2c36a","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"c0224f04-d47d-4314-bd6e-56b343a2c36a",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启
[ERROR server.py:233] connection handler failed
Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 944, in transfer_data
    message = await self.read_message()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1013, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1089, in read_data_frame
    frame = await self.read_frame(max_size)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 1148, in read_frame
    extensions=self.extensions,
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\framing.py", line 70, in read
    data = await reader(2)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 679, in readexactly
    await self._wait_for_data('readexactly')
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\streams.py", line 473, in _wait_for_data
    await self._waiter
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\selector_events.py", line 812, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 231, in handler
    await self.ws_handler(self)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\server.py", line 1137, in _ws_handler
    )(websocket, websocket.path)
  File "D:\workspace\ocpp_test\server\connect.py", line 156, in on_connect
    await Value.chargePoint.start()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\ocpp\charge_point.py", line 125, in start
    message = await self._connection.recv()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 552, in recv
    await self.ensure_open()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\websockets\legacy\protocol.py", line 920, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
[INFO server.py:259] connection closed
[INFO server.py:641] connection open
[INFO connect.py:146] Protocols Matched: ocpp1.6
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304173700000001","BootNotification",{"chargePointModel":"MaxiChargerAC","chargePointVendor":
"Autel","firmwareVersion":"CAQoSPAGNL"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304173700000001",{"currentTime":"2022-01-23T04:17:38.123Z","interval":10,"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304173800000002","StatusNotification",{"connectorId":0,"status":"Available","errorCode":"NoE
rror"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304173800000002",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304173800000003","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304173800000003",{}]
[INFO test_Recurrent_cpVoltN.py:31] ========这是第29次开始执行========
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"e1b56f53-7562-40d2-b90c-c112e5c8f5ba","RemoteStartTransaction",{"idTag":"AE0022A1GM9C00066K","connectorId":1,"
chargingProfile":{"chargingProfileId":1,"transactionId":1,"stackLevel":1,"chargingProfilePurpose":"ChargePointMaxProfile","chargingProfileKind":"Absolute","recurrencyKind
":"Daily","validFrom":"date-time","validTo":"date-time","chargingSchedule":{"duration":10,"startSchedule":"date-time","chargingRateUnit":"W","chargingSchedulePeriod":[{"s
tartPeriod":1,"limit":1.5,"numberPhases":1}],"minChargingRate":1.5}}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"e1b56f53-7562-40d2-b90c-c112e5c8f5ba",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304173900000004","Authorize",{"idTag":"AE0022A1GM9C00066K"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304173900000004",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304174300000005","StatusNotification",{"connectorId":1,"status":"Charging","errorCode":"NoEr
ror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304174300000005",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304174300000006","StartTransaction",{"connectorId":1,"idTag":"AE0022A1GM9C00066K","meterStar
t":528242,"timestamp":"2022-01-23T04:17:42.000Z"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304174300000006",{"transactionId":1,"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304174500000007","MeterValues",{"connectorId":1,"transactionId":1,"meterValue":[{"timestamp"
:"2022-01-23T04:17:45.000Z","sampledValue":[{"value":"528242","unit":"Wh","measurand":"Energy.Active.Import.Register"},{"value":"211.920000","unit":"V","measurand":"Volta
ge","phase":"L1"},{"value":"7.340000","unit":"V","measurand":"Voltage","phase":"L2"},{"value":"0.940000","unit":"V","measurand":"Voltage","phase":"L3"},{"value":"0.009000
","unit":"A","measurand":"Current.Export","phase":"L1"},{"value":"0.009000","unit":"A","measurand":"Current.Export","phase":"L2"},{"value":"0.009000","unit":"A","measuran
d":"Current.Export","phase":"L3"},{"value":"0","unit":"W","measurand":"Power.Offered"}]}]}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304174500000007",{}]
[INFO test_Recurrent_cpVoltN.py:52] ********正在充电********稍等约1分钟********
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"36b839ef-0cc3-43a0-a99c-fe09d375e11c","RemoteStopTransaction",{"transactionId":1}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"36b839ef-0cc3-43a0-a99c-fe09d375e11c",{"status":"Accepted"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304174600000008","StatusNotification",{"connectorId":1,"status":"Finishing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304174600000008",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"2022012304175300000009","StatusNotification",{"connectorId":1,"status":"Preparing","errorCode":"NoE
rror","info":"eCp_6V"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"2022012304175300000009",{}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [2,"202201230417540000000A","StopTransaction",{"idTag":"AE0022A1GM9C00066K","transactionId":1,"meterSto
p":528242,"timestamp":"2022-01-23T04:17:53.000Z","reason":"Remote"}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [3,"202201230417540000000A",{"idTagInfo":{"status":"Accepted"}}]
[INFO charge_point.py:317] CP_1AE0022A1GM9C00066K: send [2,"1e184ad8-0da6-4f32-8099-8e59f6f6fffc","Reset",{"type":"Soft"}]
[INFO charge_point.py:126] CP_1AE0022A1GM9C00066K: receive message [3,"1e184ad8-0da6-4f32-8099-8e59f6f6fffc",{"status":"Accepted"}]
[INFO test_Recurrent_cpVoltN.py:65] 稍等10秒，桩正在重启

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ Timeout +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Stack of MainThread (13700) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  File "c:\users\autel\appdata\local\programs\python\python37\lib\runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "C:\Users\Autel\AppData\Local\Programs\Python\Python37\Scripts\pytest.exe\__main__.py", line 7, in <module>
    sys.exit(console_main())
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\config\__init__.py", line 185, in console_main
    code = main()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\config\__init__.py", line 163, in main
    config=config
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_hooks.py", line 265, in __call__
    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_manager.py", line 80, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_callers.py", line 39, in _multicall
    res = hook_impl.function(*args)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\main.py", line 316, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\main.py", line 269, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\main.py", line 323, in _main
    config.hook.pytest_runtestloop(session=session)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_hooks.py", line 265, in __call__
    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_manager.py", line 80, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_callers.py", line 39, in _multicall
    res = hook_impl.function(*args)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\main.py", line 348, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_hooks.py", line 265, in __call__
    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_manager.py", line 80, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pluggy\_callers.py", line 39, in _multicall
    res = hook_impl.function(*args)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 109, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 126, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 215, in call_and_report
    call = call_runtest_hook(item, when, **kwds)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 255, in call_runtest_hook
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 311, in from_call
    result: Optional[TResult] = func()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\runner.py", line 255, in <lambda>
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\_pytest\python.py", line 183, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\site-packages\pytest_asyncio\plugin.py", line 319, in inner
    _loop.run_until_complete(task)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\base_events.py", line 560, in run_until_complete
    self.run_forever()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\base_events.py", line 528, in run_forever
    self._run_once()
  File "c:\users\autel\appdata\local\programs\python\python37\lib\asyncio\base_events.py", line 1728, in _run_once
    event_list = self._selector.select(timeout)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\selectors.py", line 323, in select
    r, w, _ = self._select(self._readers, self._writers, [], timeout)
  File "c:\users\autel\appdata\local\programs\python\python37\lib\selectors.py", line 314, in _select
    r, w, x = select.select(r, w, w, timeout)

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ Timeout +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Report successfully generated to report\html
Generating report to temp directory...
Report successfully generated to C:\Users\Autel\AppData\Local\Temp\8650648929298948106\allure-report
Starting web server...
2022-01-23 12:18:18.390:INFO::main: Logging initialized @1628ms to org.eclipse.jetty.util.log.StdErrLog
Server started at <http://10.10.41.205:59529/>. Press <Ctrl+C> to exit


















